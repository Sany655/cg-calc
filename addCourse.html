<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Your New Course</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <nav>
            <button class="nav-a-home"><a href="index.html"><b>Home</b></a></button>
        </nav>
        <div class="addcourse-form">
            <div class="addcourse-body">
                <form id="add-new-course-form">
                    <h1>ADD NEW COURSE</h1>
                    <div class="addcourse-input-box">
                        <label for="text"><b>Add Course Title :</b></label>
                        <input type="text" placeholder="Type you course name" id="course-name" required>
                    </div>
                    <div class="addcourse-input-box">
                        <label for="text"><b>Add Course Code : </b></label>
                        <input type="number" placeholder="Type your course code" id="course-code" required>
                    </div>
                    <div class="addcourse-input-box">
                        <label for="text"><b>Add Course Credit : </b></label>
                        <input type="text" placeholder="Type your course credit" id="course-credit" required>
                    </div>
                    <div>
                        <button type="submit"><strong>Add New Course</strong></button>
                    </div>

                </form>
            </div>
        </div>
    </header>
</body>
<script src="./js/jquery.min.js"></script>
<script src="./js/script.js"></script>
<script>
    data = JSON.parse(localStorage.getItem("user"));
    data.allCourses = data.allCourses || [];
    $("#add-new-course-form").submit(function (event) {
        event.preventDefault();
        var name = $("#course-name").val();
        var code = $("#course-code").val();
        var credit = $("#course-credit").val();
        if (isNaN(credit)) {
            alert("Please enter valid numbers for credit!");
            return;
        }
        localStorage.setItem("user", JSON.stringify({ ...data, allCourses: [...data.allCourses, { name: name, code: code, credit: credit }] }));
        alert("Course added successfully!");
        window.location.href = "./cgpa.html";
    });
</script>

</html>